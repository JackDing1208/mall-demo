webpackJsonp([5],{0:function(t,e,s){"use strict";var c={hotLists:"/index/hotLists",banner:"/index/banner",topLists:"/category/topList",rankLists:"/category/rank",subLists:"/category/subList",searchLists:"/search/list",goods:"/goods/details",deal:"/goods/deal",cartList:"/cart/list",cartAdd:"/cart/add",cartMinus:"/cart/reduce",cartRemove:"/cart/remove",cartUpdate:"/cart/update",addressLists:"/address/list",addressAdd:"/address/add",addressRemove:"/address/remove",addressUpdate:"/address/update",addressSetDefault:"/address/setDefault"};for(var n in c)c.hasOwnProperty(n)&&(c[n]="https://www.easy-mock.com/mock/5ce13bbdb98ae54df02ce862/youzan_copy"+c[n]);e.a=c},105:function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var c=s(1),n=s(3),i=s.n(n),o=s(0),a=s(6),r=s(23),d=s(69),u=(s.n(d),s(70)),h=(s.n(u),s(71));s.n(h);new c.default({el:".container",data:{cartList:null,selectList:null,isEditing:!1},computed:{isAll:{get:function(){return!!(this.cartList&&this.cartList.length>0)&&this.cartList.every(function(t){return!0===t.checked})},set:function(t){this.cartList.forEach(function(e){e.checked=t,e.goodsList.forEach(function(e){e.checked=t})})}},totalPrice:function(){var t=0,e=[];return this.cartList&&this.cartList.forEach(function(s){s.goodsList.forEach(function(s){s.checked&&(t+=s.price*s.number,e.push(s))})}),this.selectList=e,t},selectNum:function(){return this.selectList.length>0?this.selectList.length:0}},created:function(){this.getCartList()},methods:{getCartList:function(){var t=this;r.a.get(o.a.cartList).then(function(e){e.data.cartList.forEach(function(t){t.checked=!1,t.editable=!1,t.editText="编辑",t.goodsList.forEach(function(t){t.checked=!1})}),t.cartList=e.data.cartList})},selectGood:function(t,e){t.checked=!t.checked,e.checked=e.goodsList.every(function(t){return!0===t.checked})},selectShop:function(t){t.checked=!t.checked,t.goodsList.forEach(function(e){e.checked=t.checked})},selectAll:function(){this.isAll=!this.isAll,console.log(this.isAll)},editShop:function(t){t.editable=!t.editable,t.editText=t.editable?"完成":"编辑"},minusGood:function(t){t.number>1&&i.a.post(o.a.cartMinus,{id:t.id,num:1}).then(function(){t.number-=1})},plusGood:function(t){i.a.post(o.a.cartMinus,{id:t.id,num:1}).then(function(){t.number+=1})},removeGood:function(t,e,s,c){var n=this;i.a.post(o.a.cartRemove,{id:t.id}).then(function(){s.goodsList.splice(e,1),0===s.goodsList.length&&n.cartList.splice(c,1)})},checkout:function(){this.selectList.length>0&&alert("暂未接入支付功能 ")}},mixins:[a.a]})},23:function(t,e,s){"use strict";var c=s(46),n=s.n(c),i=s(3),o=s.n(i),a=function(t,e,s){return new n.a(function(c,n){o()({method:t,url:e,data:s}).then(function(t){200===t.status?(console.log(t),c(t)):401===t.status&&(location.href="index.html")}).catch(function(t){n(t)})})},r={get:function(t,e){return a("get",t,e)},post:function(t,e){return a("post",t,e)}};e.a=r},6:function(t,e,s){"use strict";var c={filters:{price:function(t){return t.toFixed(2)}}};e.a=c},69:function(t,e){},70:function(t,e){},71:function(t,e){}},[105]);
//# sourceMappingURL=cart.deff7e467761bdd461a3.js.map