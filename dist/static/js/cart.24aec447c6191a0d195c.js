webpackJsonp([4],{0:function(t,e,c){"use strict";var n={hotLists:"/index/hotLists",banner:"/index/banner",topLists:"/category/topList",rankLists:"/category/rank",subLists:"/category/subList",searchLists:"/search/list",goods:"/goods/details",deal:"/goods/deal",cartList:"/cart/list",cartAdd:"/cart/add",cartMinus:"/cart/reduce",cartRemove:"/cart/remove",cartUpdate:"/cart/update"};for(var i in n)n.hasOwnProperty(i)&&(n[i]="https://www.easy-mock.com/mock/5ce13bbdb98ae54df02ce862/youzan_copy"+n[i]);e.a=n},100:function(t,e,c){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=c(1),i=c(2),s=c.n(i),o=c(0),a=c(6),r=c(62),u=c(64),d=(c.n(u),c(65)),h=(c.n(d),c(66));c.n(h);new n.default({el:".container",data:{cartList:null,selectList:null,isEditing:!1},computed:{isAll:{get:function(){return!!(this.cartList&&this.cartList.length>0)&&this.cartList.every(function(t){return!0===t.checked})},set:function(t){this.cartList.forEach(function(e){e.checked=t,e.goodsList.forEach(function(e){e.checked=t})})}},totalPrice:function(){var t=0,e=[];return this.cartList&&this.cartList.forEach(function(c){c.goodsList.forEach(function(c){c.checked&&(t+=c.price*c.number,e.push(c))})}),this.selectList=e,t},selectNum:function(){return this.selectList.length>0?this.selectList.length:0}},created:function(){this.getCartList()},methods:{getCartList:function(){var t=this;r.a.get(o.a.cartList).then(function(e){e.data.cartList.forEach(function(t){t.checked=!1,t.editable=!1,t.editText="编辑",t.goodsList.forEach(function(t){t.checked=!1})}),t.cartList=e.data.cartList})},selectGood:function(t,e){t.checked=!t.checked,e.checked=e.goodsList.every(function(t){return!0===t.checked})},selectShop:function(t){t.checked=!t.checked,t.goodsList.forEach(function(e){e.checked=t.checked})},selectAll:function(){this.isAll=!this.isAll,console.log(this.isAll)},editShop:function(t){t.editable=!t.editable,t.editText=t.editable?"完成":"编辑"},minusGood:function(t){t.number>1&&s.a.post(o.a.cartMinus,{id:t.id,num:1}).then(function(){t.number-=1})},plusGood:function(t){s.a.post(o.a.cartMinus,{id:t.id,num:1}).then(function(){t.number+=1})},removeGood:function(t,e,c,n){var i=this;s.a.post(o.a.cartRemove,{id:t.id}).then(function(){c.goodsList.splice(e,1),0===c.goodsList.length&&i.cartList.splice(n,1)})},checkout:function(){this.selectList.length>0&&alert("暂未接入支付功能 ")}},mixins:[a.a]})},6:function(t,e,c){"use strict";var n={filters:{price:function(t){return t.toFixed(2)}}};e.a=n},62:function(t,e,c){"use strict";var n=c(106),i=c.n(n),s=c(2),o=c.n(s),a=function(t,e,c){return new i.a(function(n,i){o()({method:t,url:e,data:c}).then(function(t){200===t.status?(console.log(t),n(t)):401===t.status&&(location.href="index.html")}).catch(function(t){i(t)})})},r={get:function(t,e){return a("get",t,e)},post:function(t,e){return a("post",t,e)}};e.a=r},64:function(t,e){},65:function(t,e){},66:function(t,e){}},[100]);
//# sourceMappingURL=cart.24aec447c6191a0d195c.js.map